import{_ as A}from"./BDi70v5_.js";import{e as L,Z as R,r as v,f as Z,i as n,w as d,o,b as i,c as f,F as h,h as q,g as U,M as w,a7 as z,k as H,ae as J,d as C,t as D,_ as K}from"./CxRIJn2k.js";import{S as Q}from"./CqK17z4Q.js";/* empty css        */import{B as W}from"./CN4QI_hp.js";import{C as X}from"./Cy3cWCk7.js";/* empty css        *//* empty css        *//* empty css        */import{F as Y,P as ee}from"./CvT2Qy9D.js";import"./Be22cbFi.js";import{F as ae}from"./Cof-mslr.js";import"./1MultWaQ.js";import"./D28Hbfvk.js";import"./DNgW3PBO.js";import"./XYHIRF0I.js";import"./D6Uxx242.js";const te=L({__name:"DataForm",props:{userData:{},editable:{type:Boolean}},emits:["update","submit","editable"],setup(_,{emit:$}){const{t:c}=R(),r=_,V=$,k=["id","email","name","gender","birthday","inviter","join_date","created_at","created_by"],F=["id","created_at","created_by","avatar_url"],B={gender:[{text:c("male"),value:"male"},{text:c("female"),value:"female"}],date:[]},s=v(!1),y=v(!1),u=v({...r.userData}),P=Z(()=>Object.entries(u.value).filter(([e])=>!F.includes(e)).map(([e,l])=>({label:e,value:S(e,l),name:e})).sort((e,l)=>k.indexOf(e.name)-k.indexOf(l.name))),S=(e,l)=>{if(!l)return"";switch(e){case"gender":return c(l);default:return l}},p=e=>{if(!e.name)return;const l={[e.name]:e.value??""};u.value={...u.value,...l}},x=(e,{selectedValues:l})=>{const b={[e]:String(l[0])};u.value={...u.value,...b},s.value=!1},O=()=>{V("submit",u.value)},j=()=>{r.editable&&(u.value=r.userData),V("editable",!r.editable)},I=e=>{if(r.editable)switch(e){case"gender":s.value=!s.value;break;case"date":y.value=!y.value}};return(e,l)=>{const b=A,m=ae,N=ee,E=z,G=X,g=W,M=Q,T=Y;return o(),n(T,{onSubmit:O,disabled:!_.editable},{default:d(()=>[i(G,{inset:""},{default:d(()=>[i(b),(o(!0),f(h,null,q(U(P),a=>(o(),f(h,{key:a.name},[["gender"].includes(a.name)?(o(),n(m,{key:0,"is-link":"",readonly:"",modelValue:a.value,"onUpdate:modelValue":t=>a.value=t,label:e.$t(a.label),onClick:t=>I(a.name)},null,8,["modelValue","onUpdate:modelValue","label","onClick"])):a.name==="email"?(o(),n(m,{key:1,type:"email",modelValue:a.value,"onUpdate:modelValue":[t=>a.value=t,t=>p({...a,value:t})],label:e.$t(a.label)},null,8,["modelValue","onUpdate:modelValue","label"])):a.name==="name"?(o(),n(m,{key:2,type:"text",modelValue:a.value,"onUpdate:modelValue":[t=>a.value=t,t=>p({...a,value:t})],label:e.$t(a.label)},null,8,["modelValue","onUpdate:modelValue","label"])):["birthday","join_date"].includes(a.name)?(o(),n(m,{key:3,type:"date",modelValue:a.value,"onUpdate:modelValue":[t=>a.value=t,t=>p({...a,value:t})],label:e.$t(a.label)},null,8,["modelValue","onUpdate:modelValue","label"])):(o(),n(m,{key:4,type:"text",modelValue:a.value,"onUpdate:modelValue":[t=>a.value=t,t=>p({...a,value:t})],label:e.$t(a.label)},null,8,["modelValue","onUpdate:modelValue","label"])),a.name==="gender"?(o(),n(E,{key:5,show:U(s),"onUpdate:show":l[1]||(l[1]=t=>H(s)?s.value=t:null),round:"",position:"bottom"},{default:d(()=>[i(N,{columns:B.gender,onConfirm:l[0]||(l[0]=t=>x("gender",t))},null,8,["columns"])]),_:1},8,["show"])):w("",!0)],64))),128))]),_:1}),i(M,{class:"button__container"},{default:d(()=>[i(g,{round:"",block:"",type:"primary",onClick:J(j,["prevent"])},{default:d(()=>[C(D(r.editable?e.$t("cancel"):e.$t("edit")),1)]),_:1}),r.editable?(o(),n(g,{key:0,round:"",block:"",type:"primary","native-type":"submit"},{default:d(()=>[C(D(e.$t("submit")),1)]),_:1})):w("",!0)]),_:1})]),_:1},8,["disabled"])}}}),ge=K(te,[["__scopeId","data-v-32c9ff05"]]);export{ge as default};
