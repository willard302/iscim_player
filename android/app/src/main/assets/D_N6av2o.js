import{_ as w}from"./aHjHZ_zr.js";import{l as B,e as P,a8 as N,a9 as R,m as F,r as h,aa as V,f as j,J as M,ab as I,G as $,S as O,v as p,b as r,ac as z,y as E,ad as H,a5 as U,E as A,i as C,w as T,H as G,o as g,M as J,c as q,g as L,k as D,F as K,h as Q,a6 as W,ae as X,_ as Y}from"./CxRIJn2k.js";/* empty css        */import{C as Z}from"./Be22cbFi.js";import{F as ee}from"./Cof-mslr.js";import{u as te}from"./CWdTFuqg.js";import{u as ae}from"./IOLQkN_j.js";const[ne,d,oe]=B("list"),ie={error:Boolean,offset:F(300),loading:Boolean,disabled:Boolean,finished:Boolean,scroller:Object,errorText:String,direction:R("down"),loadingText:{type:String,default:""},finishedText:String,immediateCheck:N};var se=P({name:ne,props:ie,emits:["load","update:error","update:loading"],setup(e,{emit:u,slots:a}){const n=h(e.loading),m=h(),v=h(),c=ae(),_=V(m),i=j(()=>e.scroller||_.value),o=()=>{z(()=>{if(n.value||e.finished||e.disabled||e.error||c?.value===!1)return;const{direction:t}=e,s=+e.offset,l=E(i);if(!l.height||H(m))return;let b=!1;const y=E(v);t==="up"?b=l.top-y.top<=s:b=y.bottom-l.bottom<=s,b&&(n.value=!0,u("update:loading",!0),u("load"))})},f=()=>{if(e.finished){const t=a.finished?a.finished():e.finishedText;if(t)return r("div",{class:d("finished-text")},[t])}},k=()=>{u("update:error",!1),o()},x=()=>{if(e.error){const t=a.error?a.error():e.errorText;if(t)return r("div",{role:"button",class:d("error-text"),tabindex:0,onClick:k},[t])}},S=()=>{if(n.value&&!e.finished&&!e.disabled)return r("div",{class:d("loading")},[a.loading?a.loading():e.loadingText!=null&&r(U,{class:d("loading-icon")},{default:()=>[e.loadingText||oe("loading")]})])};return M(()=>[e.loading,e.finished,e.error],o),c&&M(c,t=>{t&&o()}),I(()=>{n.value=e.loading}),$(()=>{e.immediateCheck&&o()}),O({check:o}),p("scroll",o,{target:i,passive:!0}),()=>{var t;const s=(t=a.default)==null?void 0:t.call(a),l=r("div",{ref:v,class:d("placeholder")},null);return r("div",{ref:m,role:"feed",class:d(),"aria-busy":n.value},[e.direction==="down"?s:l,S(),f(),x(),e.direction==="up"?s:l])}}});const le=A(se),re=P({__name:"MusicListSlot",props:{list:{},type:{},className:{}},emits:["get-music","save-music","remove-music"],setup(e,{emit:u}){const a=u,n=h(""),m=i=>{console.log(i),a("get-music",i)},v=te(),c=()=>{if(!n.value.trim())return alert("Please input a name for the set");a("save-music",n.value),n.value=""},_=(i,o)=>{a("remove-music",{name:i,index:o})};return(i,o)=>{const f=w,k=ee,x=Z,S=le;return g(),C(S,{class:G([e.list.class,e.className])},{default:T(()=>[L(v).openMenu==="Set.custom"&&e.type!=="junior-mode"?(g(),C(k,{key:0,modelValue:L(n),"onUpdate:modelValue":o[0]||(o[0]=t=>D(n)?n.value=t:null),placeholder:"List Name"},{"right-icon":T(()=>[r(f,{icon:"floppy-disk",onClick:c})]),_:1},8,["modelValue"])):J("",!0),(g(!0),q(K,null,Q(e.list.menu,(t,s)=>(g(),C(x,{key:s,title:t.name,label:t.intro,onClick:l=>m(t)},W({_:2},[e.list.name==="Set.custom"?{name:"right-icon",fn:T(()=>[r(f,{onClick:X(l=>_(e.list.name,s),["stop"]),icon:"trash"},null,8,["onClick"])]),key:"0"}:void 0]),1032,["title","label","onClick"]))),128))]),_:1},8,["class"])}}}),ce=Y(re,[["__scopeId","data-v-e8ad71e3"]]),_e=Object.freeze(Object.defineProperty({__proto__:null,default:ce},Symbol.toStringTag,{value:"Module"}));export{le as L,ce as M,_e as a};
