import{_ as Z}from"./aHjHZ_zr.js";import{_ as ee}from"./DJ3zHUFl.js";import{l as te,e as Y,n as L,m as T,r as N,p as ne,f as D,q as ae,s as oe,v as le,b as l,x as H,y as X,z as ie,A as re,B as se,C as ue,D as ce,E as de,G as me,c as fe,a as V,g as o,H as E,t as M,w as v,o as ge,_ as _e}from"./CxRIJn2k.js";import{R as ve,C as be}from"./Dvk4rGQz.js";import{S as ye}from"./CqK17z4Q.js";/* empty css        */import{B as he}from"./CN4QI_hp.js";import{I as Ve}from"./1MultWaQ.js";import{u as Se,a as xe}from"./CGhLo2dv.js";import{u as Ce}from"./8oP2vdyN.js";import"./XYHIRF0I.js";/* empty css        *//* empty css        */import"./z2VIuxhO.js";const[we,k]=te("slider"),Pe={min:T(0),max:T(100),step:T(1),range:Boolean,reverse:Boolean,disabled:Boolean,readonly:Boolean,vertical:Boolean,barHeight:L,buttonSize:L,activeColor:String,inactiveColor:String,modelValue:{type:[Number,Array],default:0}};var ke=Y({name:we,props:Pe,emits:["change","dragEnd","dragStart","update:modelValue"],setup(t,{emit:u,slots:c}){let s,g,b;const S=N(),x=[N(),N()],a=N(),C=ne(),y=D(()=>Number(t.max)-Number(t.min)),h=D(()=>{const e=t.vertical?"width":"height";return{background:t.inactiveColor,[e]:ae(t.barHeight)}}),f=e=>t.range&&Array.isArray(e),p=()=>{const{modelValue:e,min:n}=t;return f(e)?`${(e[1]-e[0])*100/y.value}%`:`${(e-Number(n))*100/y.value}%`},z=()=>{const{modelValue:e,min:n}=t;return f(e)?`${(e[0]-Number(n))*100/y.value}%`:"0%"},A=D(()=>{const n={[t.vertical?"height":"width"]:p(),background:t.activeColor};a.value&&(n.transition="none");const i=()=>t.vertical?t.reverse?"bottom":"top":t.reverse?"right":"left";return n[i()]=z(),n}),w=e=>{const n=+t.min,i=+t.max,d=+t.step;e=ce(e,n,i);const r=Math.round((e-n)/d)*d;return se(n,r)},m=()=>{const e=t.modelValue;f(e)?b=e.map(w):b=w(e)},q=e=>{var n,i;const d=(n=e[0])!=null?n:Number(t.min),r=(i=e[1])!=null?i:Number(t.max);return d>r?[r,d]:[d,r]},P=(e,n)=>{f(e)?e=q(e).map(w):e=w(e),H(e,t.modelValue)||u("update:modelValue",e),n&&!H(e,b)&&u("change",e)},W=e=>{if(e.stopPropagation(),t.disabled||t.readonly)return;m();const{min:n,reverse:i,vertical:d,modelValue:r}=t,_=X(S),K=()=>d?i?_.bottom-e.clientY:e.clientY-_.top:i?_.right-e.clientX:e.clientX-_.left,O=d?_.height:_.width,B=Number(n)+K()/O*y.value;if(f(r)){const[R,U]=r,Q=(R+U)/2;B<=Q?P([B,U],!0):P([R,B],!0)}else P(B,!0)},j=e=>{t.disabled||t.readonly||(C.start(e),g=t.modelValue,m(),a.value="start")},F=e=>{if(t.disabled||t.readonly)return;a.value==="start"&&u("dragStart",e),ie(e,!0),C.move(e),a.value="dragging";const n=X(S),i=t.vertical?C.deltaY.value:C.deltaX.value,d=t.vertical?n.height:n.width;let r=i/d*y.value;if(t.reverse&&(r=-r),f(b)){const _=t.reverse?1-s:s;g[_]=b[_]+r}else g=b+r;P(g)},I=e=>{t.disabled||t.readonly||(a.value==="dragging"&&(P(g,!0),u("dragEnd",e)),a.value="")},G=e=>typeof e=="number"?k("button-wrapper",["left","right"][e]):k("button-wrapper",t.reverse?"left":"right"),J=(e,n)=>{const i=a.value==="dragging";if(typeof n=="number"){const d=c[n===0?"left-button":"right-button"];let r;if(i&&Array.isArray(g)&&(r=g[0]>g[1]?s^1:s),d)return d({value:e,dragging:i,dragIndex:r})}return c.button?c.button({value:e,dragging:i}):l("div",{class:k("button"),style:ue(t.buttonSize)},null)},$=e=>{const n=typeof e=="number"?t.modelValue[e]:t.modelValue;return l("div",{ref:x[e??0],role:"slider",class:G(e),tabindex:t.disabled?void 0:0,"aria-valuemin":t.min,"aria-valuenow":n,"aria-valuemax":t.max,"aria-disabled":t.disabled||void 0,"aria-readonly":t.readonly||void 0,"aria-orientation":t.vertical?"vertical":"horizontal",onTouchstartPassive:i=>{typeof e=="number"&&(s=e),j(i)},onTouchend:I,onTouchcancel:I,onClick:re},[J(n,e)])};return P(t.modelValue),oe(()=>t.modelValue),x.forEach(e=>{le("touchmove",F,{target:e})}),()=>l("div",{ref:S,style:h.value,class:k({vertical:t.vertical,disabled:t.disabled}),onClick:W},[l("div",{class:k("bar"),style:A.value},[t.range?[$(0),$(1)]:$()])])}});const ze=de(ke),Be=""+new URL("iscim-logo.rJWvfWUL.png",import.meta.url).href,Ne={class:"player__container"},pe={class:"music__title van-ellipsis"},Ae={class:"progress__container"},$e={class:"time__labels"},Te={class:"time__text"},De={class:"time__text"},Ee={style:{flex:"1"}},Me=Y({__name:"index",setup(t){const u=Se(),c=xe(),s=Ce();me(()=>{s.initListeners()});const g=()=>{u.isDragging=!0},b=()=>{u.isDragging=!1,S()},S=()=>{if(!c.duration)return;const x=Math.max(0,Math.min(100,u.slidePercent));s.seek(x)};return(x,a)=>{const C=Ve,y=ze,h=Z,f=he,p=ye,z=be,A=ve,w=ee;return ge(),fe("div",Ne,[V("div",{class:E(["disk__container",{playing:o(c).isPlaying}]),onClick:a[0]||(a[0]=(...m)=>o(s).togglePlay&&o(s).togglePlay(...m))},[l(C,{class:E(["disk__image",{spinning:o(c).isPlaying}]),height:"240",width:"240",fit:"cover",round:"",src:o(Be),"lazy-load":""},null,8,["class","src"])],2),V("h3",pe,M(o(u).queue.length===0?x.$t(o(u).name):o(u).name),1),V("div",Ae,[l(y,{modelValue:o(u).slidePercent,"onUpdate:modelValue":[a[1]||(a[1]=m=>o(u).slidePercent=m),S],"button-size":"12px",onDragStart:g,onDragEnd:b},null,8,["modelValue"]),V("div",$e,[V("span",Te,M(o(c).currentTime),1),V("span",De,M(o(c).duraTime),1)])]),l(A,{class:"navigation__container",align:"center",justify:"space-between"},{default:v(()=>[l(z,{span:"14",class:"operation__container"},{default:v(()=>[l(p,{size:8},{default:v(()=>[l(f,{size:"small",round:"",onClick:a[2]||(a[2]=m=>o(s).prev())},{default:v(()=>[l(h,{icon:"backward"})]),_:1}),l(f,{size:"small",round:"",onClick:a[3]||(a[3]=m=>o(s).togglePlay())},{default:v(()=>[l(h,{icon:o(c).isPlaying?"pause":"play"},null,8,["icon"])]),_:1}),l(f,{size:"small",round:"",onClick:a[4]||(a[4]=m=>o(s).next())},{default:v(()=>[l(h,{icon:"forward"})]),_:1}),l(f,{size:"small",round:"",class:E(["loop-btn",o(c).loop]),onClick:a[5]||(a[5]=m=>o(u).setLoop())},{default:v(()=>[l(h,{class:"fa-solid fa-repeat",icon:"repeat"})]),_:1},8,["class"])]),_:1})]),_:1}),l(z,{span:"10",class:"volume__container"},{default:v(()=>[l(f,{size:"mini",plain:"",style:{border:"none","margin-right":"5px"},onClick:a[6]||(a[6]=m=>o(s).openVolume())},{default:v(()=>[l(h,{icon:o(c).volume_on?"volume-high":"volume-off"},null,8,["icon"])]),_:1}),V("div",Ee,[l(y,{modelValue:o(c).volume,"onUpdate:modelValue":[a[7]||(a[7]=m=>o(c).volume=m),o(s).setVolume],min:0,max:100,"button-size":"10px"},null,8,["modelValue","onUpdate:modelValue"])])]),_:1})]),_:1}),l(w)])}}}),Oe=_e(Me,[["__scopeId","data-v-286956dc"]]);export{Oe as default};
