import{e as B,m as b,l as W,r as g,P as C,Q as E,R as P,v as $,S as O,J as V,N as q,O as L,b as c,T as p,y as v,U as R,V as M,W as j,E as A,_ as J,i as Q,o as U,w as X,d as z,t as y}from"./CxRIJn2k.js";/* empty css        */const[F,i]=W("notice-bar"),G={text:String,mode:String,color:String,delay:b(1),speed:b(60),leftIcon:String,wrapable:Boolean,background:String,scrollable:{type:Boolean,default:null}};var H=B({name:F,props:G,emits:["close","replay"],setup(e,{emit:d,slots:a}){let l=0,o=0,h;const u=g(),m=g(),t=C({show:!0,offset:0,duration:0}),I=()=>{if(a["left-icon"])return a["left-icon"]();if(e.leftIcon)return c(p,{class:i("left-icon"),name:e.leftIcon},null)},k=()=>{if(e.mode==="closeable")return"cross";if(e.mode==="link")return"arrow"},x=n=>{e.mode==="closeable"&&(t.show=!1,d("close",n))},N=()=>{if(a["right-icon"])return a["right-icon"]();const n=k();if(n)return c(p,{name:n,class:i("right-icon"),onClick:x},null)},S=()=>{t.offset=l,t.duration=0,j(()=>{R(()=>{t.offset=-o,t.duration=(o+l)/+e.speed,d("replay")})})},D=()=>{const n=e.scrollable===!1&&!e.wrapable,r={transform:t.offset?`translateX(${t.offset}px)`:"",transitionDuration:`${t.duration}s`};return c("div",{ref:u,role:"marquee",class:i("wrap")},[c("div",{ref:m,style:r,class:[i("content"),{"van-ellipsis":n}],onTransitionend:S},[a.default?a.default():e.text])])},s=()=>{const{delay:n,speed:r,scrollable:f}=e,T=M(n)?+n*1e3:0;l=0,o=0,t.offset=0,t.duration=0,clearTimeout(h),h=setTimeout(()=>{if(!u.value||!m.value||f===!1)return;const _=v(u).width,w=v(m).width;(f||w>_)&&R(()=>{l=_,o=w,t.offset=-o,t.duration=o/+r})},T)};return E(s),P(s),$("pageshow",s),O({reset:s}),V(()=>[e.text,e.scrollable],s),()=>{const{color:n,wrapable:r,background:f}=e;return q(c("div",{role:"alert",class:i({wrapable:r}),style:{color:n,background:f}},[I(),D(),N()]),[[L,t.show]])}}});const K=A(H),Y={};function Z(e,d){const a=K;return U(),Q(a,{class:"disclaimer",background:"transparent",color:"red",wrapable:""},{default:X(()=>[z(" 《 "+y(e.$t("Disclaimer.title"))+" 》 "+y(e.$t("Disclaimer.content")),1)]),_:1})}const ne=Object.assign(J(Y,[["render",Z],["__scopeId","data-v-c55a0298"]]),{__name:"DisclaimerNotice"});export{K as N,ne as _};
